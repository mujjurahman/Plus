public function submitForm(array &$form, FormStateInterface $form_state, WebformSubmissionInterface $webform_submission) {
  try {
    \Drupal::logger('pfe_med_connect')->notice('submitForm was called');

    $values = $webform_submission->getData();
    $product = $values['product'];
    $therapeuticArea = $values['therapeutic_area'];
    $department = $values['department'];

    \Drupal::logger('pfe_med_connect')->notice('Form values fetched: Product - ' . $product . ', Therapeutic Area - ' . $therapeuticArea . ', Department - ' . $department);
    
    $emailData = $this->getEmailData($product, $therapeuticArea, $department);
    \Drupal::logger('pfe_med_connect')->notice('Email data fetched: ' . print_r($emailData, TRUE));

    if ($emailData) {
      $this->sendEmail($emailData);
      \Drupal::logger('pfe_med_connect')->notice('Emails sent successfully');
    } else {
      \Drupal::logger('pfe_med_connect')->notice('No email data found');
    }

  } catch (\Exception $e) {
    \Drupal::logger('pfe_med_connect')->error('Error in submitForm: ' . $e->getMessage());
  }
}





public function submitForm(array &$form, FormStateInterface $form_state, WebformSubmissionInterface $webform_submission) {
  \Drupal::logger('pfe_med_connect')->notice('submitForm was called');
  
  // Start of your code...

  \Drupal::logger('pfe_med_connect')->notice('Email data fetched from the form');

  // After fetching email data...

  \Drupal::logger('pfe_med_connect')->notice('Emails sent successfully');

  // Rest of your code...
}




try {
  // Your code...
} catch (\Exception $e) {
  \Drupal::logger('pfe_med_connect')->error('Error while executing submitForm: ' . $e->getMessage());
}




$email_data = // Code to fetch email data from the form...
\Drupal::logger('pfe_med_connect')->notice('Email data: ' . print_r($email_data, TRUE));
